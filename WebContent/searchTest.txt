<%
	String q = request.getParameter("q");

	if(q != null)
	{
		String host = "jdbc:mysql://localhost:3306/gamego";
		String username = "root";
		String password = "root";
		
		DBConnectionPool pool = new DBConnectionPool(host, username, password);
		Connection conn = pool.getConnection();
		
		if(conn != null)
		{
			Statement stmt = null;
			ResultSet rs = null;

			try
			{
				stmt = conn.createStatement();

				if(stmt != null)
				{
					String sql = "SELECT * FROM game WHERE gameTitle LIKE '%" + q + "%'";
					rs = stmt.executeQuery(sql);
					
					if(rs != null)
					{
						while(rs.next())
						{
							int gameID = rs.getInt("gameID");
							String gameTitle = rs.getString("gameTitle");
							Date rd = 
							
							out.print("<a href=\"./game.jsp?id=" + gameID + "\">" + gameTitle + "</a><br />");
						}
					}
				}
			}
			catch(Exception e) {}
			finally
			{
				if(rs != null)
					rs.close();

				if(stmt != null)
					stmt.close();
				
				if(pool != null && conn != null)
					pool.returnConnection(conn);
			}
		}
	}
%>